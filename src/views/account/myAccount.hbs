<ol class="breadcrumb" style="background-color: #fff; font-weight: bold !important; col; border-radius:0;    -webkit-box-shadow: 0 0 13px 0 rgba(82,63,105,.05);
    box-shadow: 0 0 13px 0 rgba(82,63,105,.05);">
    <li class="breadcrumb-item"><a href="/tongquan">Tổng quan</a></li>
    <li class="breadcrumb-item active" aria-current="page">Thay đổi thông tin</li>  
</ol> 
<div class="container"style="min-height: 100vh;" >
    <hr>
{{#each objNhanVien}}
<form class="form-horizontal" role="form" action="/myAccount/update/{{idNhanVien}}?_method=PUT" method="POST" enctype="multipart/form-data">
    <div class="row">
        <div class="col-sm-6">
            <div class="mb-3">
                <label class="form-label" for="anh">Chọn ảnh</label>
                <input  type="file" class="form-control" name="anh" accept="image/*" id="anh" aria-describedby="helpImg" onchange="" />
            </div>

            <div class="mb-3">
                <div id="output" class="rounded mx-auto d-block" style="width: 242px; height: 242px; overflow: hidden; background-color: aliceblue;">
                    <img id="img-preview" src="data:image/png;base64,{{this.anh}}" style="width: 100%; height: 100%; object-fit: cover;" alt="Ảnh xem trước" />
                </div>
            </div>

            <div class="mb-3">
                <label class="col-lg-3 control-label form-label ">Họ tên</label>
                <input class="form-control" required type="text" name="hoTen" value="{{hoTen}}">
            </div>

            <div class="mb-3">
                <label class="col-md-3 control-label form-label">Ngày sinh</label>
                <input class="form-control" required type="date" name="ngaySinh" value="{{parseDate ngaySinh}}" >
            </div>                
        </div>
        <div class="col-sm-6">
            <div class="mb-3">
                <label class="col-lg-3 control-label form-label">Mã nhân viên</label>
                <input class="form-control" disabled required type="text" name="" value="{{idNhanVien}}">
            </div>            

            <div class="mb-3">
                <label class="col-md-3 control-label form-label">Vai trò</label>
                <input class="form-control" required type="text" name="vaiTro" value="{{vaiTro}}" disabled>
            </div>

            <div class="mb-3">
                <label class="col-lg-3 control-label form-label">Email</label>
                <input class="form-control" required type="text" name="email" value="{{email}}">
            </div>

            <div class="mb-3">
                <label class="col-md-3 control-label form-label">Số điện thoại</label>
                <input class="form-control" required type="text" name="dienThoai" value="{{dienThoai}}">
            </div>


            <div class="mb-3">
                <label class="col-md-3 control-label form-label">Địa chỉ</label>
                <input class="form-control" required type="text" name="diaChi" value="{{diaChi}}">
            </div>

            <div class="mb-3">
                <label class="form-label" for="gioiTinh">Giới tính</label>
                <select id="gioiTinh" name="gioiTinh" class="form-control">
                    <option value="Nam"{{#eq "Nam" this.gioiTinh}}selected{{/eq}}>Nam</option>
                    <option value="Nữ"{{#eq "Nữ" this.gioiTinh}}selected{{/eq}}>Nữ</option>                    
                </select>
            </div>
        </div>
    </div>


    <div class="text-center">
        <button name="add" class="btn btn-primary" type="submit" style="padding: 10px; min-width: 400px; font-weight: bold; margin: 10px;">Cập nhật</button>
    </div>
</form>
{{/each}}

</div>
<div>
  {{#if notificationSuccess}}
    <div class="alert auto-close alert-success alert-dismissible show fade mb-3" role="alert" style="position: fixed; top: 0; right: 0; width: 300px; z-index: 100;">
      <strong style="text-align: center;">{{notificationSuccess}}</strong>
    </div>
  {{/if}}
  {{#if notificationErr}}
    <div class="alert auto-close alert-warning alert-dismissible show fade mb-3" role="alert" style="position: fixed; top: 0; right: 0; width: 300px; z-index: 100;">
      <strong>{{notificationErr}}</strong>
    </div>
  {{/if}}
</div>


<script>
    document.getElementById('anh').addEventListener('change', function() {
    var imgPreview = document.getElementById('img-preview');
    var input = this;

    if (input.files && input.files[0]) {
        var reader = new FileReader();
        reader.onload = function(e) {
            imgPreview.src = e.target.result;
        };
        reader.readAsDataURL(input.files[0]);
    }
});

</script>